<html>
<head>
            <title>League AP Prep - Quiz 9</title>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://league-central.github.io/curriculum/style/style.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
        <link rel="stylesheet" href="https://league-ap.github.io/style/style.css">
        <script src="https://league-central.github.io/curriculum/script/headerAndFooter.js"></script>
</head>
<div id="header">
	<center> <h1>Quiz 9</h1>    <br>
    <hr>
    <br></center>
</div>
<div id="quiz"></div>
<div id="nav">
    <div id="footer"></div>
</div>

<script>

var totalQuestions;

var qDiv;
var navDiv;

var currentQuestion;
var questions = [];
var qIndex = 0;

var quizComplete = false;
var score = 0;

function Question(){
	this.type;
	this.number;
	this.question;
	this.choices = [];
	this.correctAnswers = [];
	this.userAnswers = [];
	this.isCorrect = false;
}

window.onload = function(){
	qDiv = document.getElementById('quiz');
	navDiv = document.getElementById('nav');
	buildQuiz();

	navDiv.innerHTML += "NAVIGATION:<br>";
	for(var i = 0; i < totalQuestions; i++){
		navDiv.innerHTML += "<button onclick='navigateTo("+i+")'>"+(i + 1)+"</button>";
	}
	navDiv.innerHTML += "<br><br>";
	navDiv.innerHTML += "<button onclick='submitQuiz()'>Submit Quiz</button><br>";

    addFooter();
}

function buildQuiz(){
    
const A = 0;
const B = 1;
const C = 2;
const D = 3;
const E = 4;  
    

questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type="SING_ANS";
questions[qIndex].question="Consider the following segment of code. For the method call <code>t(5)</code>, how many calls to method <code>t</code> will be made, including the original call?<br><br><pre>public int t(int n)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;if (n == 1 || n == 2)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 2 * n;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return t(n - 1) - t(n - 2);<br>}<br></pre>";

questions[qIndex].choices[0]="&nbsp;&nbsp;&nbsp;4";
questions[qIndex].choices[1]="&nbsp;&nbsp;&nbsp;15";
questions[qIndex].choices[2]="&nbsp;&nbsp;&nbsp;9";
questions[qIndex].choices[3]="&nbsp;&nbsp;&nbsp;14";
questions[qIndex].choices[4]="&nbsp;&nbsp;&nbsp;5";

    questions[qIndex].correctAnswers=C;

qIndex=qIndex+1;
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type="SING_ANS";
questions[qIndex].question="Consider the following class declarations. Which of the following code can be executed in the Swan class?<br><br><pre>public class Bird<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;private String color;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public Bird(String theColor)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* implementation not shown */<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public void makeNoise()<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* implementation not shown */<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public void eat()<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* implementation not shown */<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public string showFeathers()<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return color;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br><br>public class Swan extends Bird<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;/* no constructors or other methods have been declared */<br>}</pre><br><br><br>I.&nbsp;&nbsp;&nbsp; <code>this.color = &quot;blue&quot;;</code><br><br>II.&nbsp;&nbsp;&nbsp;<code> eat();</code><br><br>III.&nbsp;&nbsp;&nbsp;<code> Swan s = new Swan(&quot;blue&quot;);</code><br>";


questions[qIndex].choices[0]="&nbsp;&nbsp;&nbsp;I only";
questions[qIndex].choices[1]="&nbsp;&nbsp;&nbsp;II only";
questions[qIndex].choices[2]="&nbsp;&nbsp;&nbsp;III only";
questions[qIndex].choices[3]="&nbsp;&nbsp;&nbsp;I an II only";
questions[qIndex].choices[4]="&nbsp;&nbsp;&nbsp;I, II, and III";

    questions[qIndex].correctAnswers=B;

qIndex=qIndex+B;
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type="SING_ANS";
questions[qIndex].question="Consider the following code. Assume that <code>list</code> is an ArrayList of integers that contains [7, 3, 2]. What will the contents of <code>list</code> be after the following code is executed?<br><br><pre>&nbsp;&nbsp;&nbsp; list.add(4);<br>&nbsp;&nbsp;&nbsp; list.add(1, 8);<br>&nbsp;&nbsp;&nbsp; list.remove(2);<br>&nbsp;&nbsp;&nbsp; list.set(2, 1);<br>&nbsp;&nbsp;&nbsp; list.add(3);</pre><br>";

questions[qIndex].choices[0]="&nbsp;&nbsp;&nbsp;[7, 1, 4, 8, 3]";
questions[qIndex].choices[1]="&nbsp;&nbsp;&nbsp;[7, 8, 1, 2, 4, 3]";
questions[qIndex].choices[2]="&nbsp;&nbsp;&nbsp;[7, 3, 1, 4, 3]";
questions[qIndex].choices[3]="&nbsp;&nbsp;&nbsp;[8, 1, 2, 4, 3]";
questions[qIndex].choices[4]="&nbsp;&nbsp;&nbsp;[7, 8, 1, 4, 3]";

questions[qIndex].correctAnswers=E;

qIndex=qIndex+1;
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type="SING_ANS";
questions[qIndex].question="The method <code>rowSums</code> returns an array of integers. Each element of the array holds the sum of the corresponding row of a 2-D matrix. Which line correctly fills in /* to be determined */ in <code>rowSums</code>?<br><br><pre>public int[] rowSums(int[][] arr)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;int[] ans = new int[arr.length];<br><br>&nbsp;&nbsp;&nbsp;&nbsp;for (int i = 0; i < arr.length; i++)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (int j = 0; j < arr[0].length; j++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* to be determined */<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;return ans;<br>}</pre><br>";

questions[qIndex].choices[0]="&nbsp;&nbsp;&nbsp;<code>arr[i][j] = ans[i];</code>";
questions[qIndex].choices[1]="&nbsp;&nbsp;&nbsp;<code>ans[i] += arr[i][j];</code>";
questions[qIndex].choices[2]="&nbsp;&nbsp;&nbsp;<code>ans[i][j] += arr[i][j];</code>";
questions[qIndex].choices[3]="&nbsp;&nbsp;&nbsp;<code>ans[i] = arr[i][j];</code>";
questions[qIndex].choices[4]="&nbsp;&nbsp;&nbsp;<code>arr[i][j] += ans[i];</code>";

questions[qIndex].correctAnswers=B;

qIndex=qIndex+1;
questions[qIndex] = new Question();
questions[qIndex].number=qIndex+1;
questions[qIndex].type="SING_ANS";
questions[qIndex].question="Consider the following method <code>binSearch</code>, which uses binary search to locate an element key in an array of integers <code>arr</code>. If list is an array of integers containing {4, 7, 9, 11, 20, 24, 30, 41}, how many iterations of the while loop occur in <code>binSearch(30, list)</code>?<br><br><pre>public static int binSearch(int key, int[] arr)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;int low = 0;<br>&nbsp;&nbsp;&nbsp;&nbsp;int high = arr.length - 1;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;while (low &lt;= high)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int mid = (low + high) / 2;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (arr[mid] == key)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return mid;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else if (arr[mid] &lt; key)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;low = mid + 1;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;high = mid - 1;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>   return -1;<br>}</pre>";

questions[qIndex].choices[0]="&nbsp;&nbsp;&nbsp;1";
questions[qIndex].choices[1]="&nbsp;&nbsp;&nbsp;2";
questions[qIndex].choices[2]="&nbsp;&nbsp;&nbsp;3";
questions[qIndex].choices[3]="&nbsp;&nbsp;&nbsp;4";
questions[qIndex].choices[4]="&nbsp;&nbsp;&nbsp;5";

questions[qIndex].correctAnswers=C;

    
	totalQuestions = qIndex+1;
	currentQuestion = questions[0];
	displayQuestion();
}

function displayQuestion(){
	qDiv.innerHTML = "Question " + currentQuestion.number + ":<br><br>";
	qDiv.innerHTML += currentQuestion.question + "<br>";
	if(currentQuestion.type == "MULT_ANS"){
		qDiv.innerHTML += "<br>	(choose all that apply)<br>";

		for(var i = 0; i < currentQuestion.choices.length; i++){
            qDiv.innerHTML += "&nbsp;" + numToChar(i) + ":&nbsp;&nbsp;";
			if(currentQuestion.userAnswers.includes(i)){
				qDiv.innerHTML += "<input type='checkbox' checked></input>";
			}else{
				qDiv.innerHTML += "<input type='checkbox'></input>";
			}


			qDiv.innerHTML += currentQuestion.choices[i] + "<br>";

		}

		if(quizComplete){
			qDiv.innerHTML += "<b>Correct Answer:</b><br>";
			for(var j = 0; j < currentQuestion.correctAnswers.length; j++){
				qDiv.innerHTML += currentQuestion.choices[currentQuestion.correctAnswers[j]] + "<br><br>";
			}
			qDiv.innerHTML += "<b>Your Answer:</b><br>";
			for(var j = 0; j < currentQuestion.userAnswers.length; j++){
				qDiv.innerHTML += currentQuestion.choices[currentQuestion.userAnswers[j]] + "<br><br>";
			}
		}

	}else if(currentQuestion.type == "SING_ANS"){

		for(var i = 0; i < currentQuestion.choices.length; i++){
			qDiv.innerHTML += numToChar(i) + ":&nbsp;&nbsp;";

			if(currentQuestion.userAnswers == i){
				qDiv.innerHTML += "<input type='radio' name='q"+currentQuestion.number+"' checked></input>";
			}else{
				qDiv.innerHTML += "<input type='radio' name='q"+currentQuestion.number+"'></input>";
			}
			qDiv.innerHTML += currentQuestion.choices[i] + "<br>";

		}

		if(quizComplete){
			qDiv.innerHTML += "<b>Correct Answer:</b><br>";
			qDiv.innerHTML += currentQuestion.choices[currentQuestion.correctAnswers] + "<br><br>";

			qDiv.innerHTML += "<b>Your Answer:</b><br>";
			qDiv.innerHTML += currentQuestion.choices[currentQuestion.userAnswers] + "<br><br>";
		}
	}else if(currentQuestion.type == "FILL_IN"){
		qDiv.innerHTML += "<textarea rows='7' cols='60'>"+currentQuestion.userAnswers+"</textarea>";
		if(quizComplete){
			qDiv.innerHTML += "<br><b>Correct Answer:</b><br>";
			qDiv.innerHTML += currentQuestion.correctAnswers + "<br><br>";

			qDiv.innerHTML += "<b>Your Answer:</b><br>";
			qDiv.innerHTML += currentQuestion.userAnswers + "<br><br>";
		}
	}
	qDiv.innerHTML += "<br>";

	if(currentQuestion.number != 1){
		qDiv.innerHTML += "<button onclick='previousQuestion()'>Previous Question</button>";
	}
    if (currentQuestion.number >1 && currentQuestion.number < questions.length) {
        qDiv.innerHTML += "&nbsp;&nbsp;&nbsp;&nbsp;"
    }
    if(currentQuestion.number != questions.length){
		qDiv.innerHTML += "<button onclick='nextQuestion()'>Next Question</button>";
	}

	qDiv.innerHTML += "<hr size='3'>";
}

function submitQuiz(){
	if(quizComplete) return;
	if(!confirm("Are you sure you want to submit your quiz for grading?")) return;
	quizComplete = true;
	saveQuestionState();

	scoreQuiz();
	highlightButtons();

	currentQuestion = questions[0];
	displayQuestion();
}

function specialParseStr(str){
	var nstr = "";
	for(var i = 0; i < str.length; i++){
		var c = str.charAt(i);
		if(c == '\"'){
			nstr += "\\\"";
		}else if(c == '<'){
			nstr += "&lt";
		}else if(c == '\n' || c == ' '){

		}else{
			nstr += c;
		}
	}
	return nstr.trim();
}

function scoreQuiz(){
	for(var i = 0; i < questions.length; i++){
		if(questions[i].type == "MULT_ANS"){
			var ca = compareArray(questions[i].correctAnswers, questions[i].userAnswers);
			questions[i].isCorrect = ca;
			if(ca) score++;
		}else if(questions[i].type == "SING_ANS"){
			if(questions[i].correctAnswers == questions[i].userAnswers){
				questions[i].isCorrect = true;
				score++;
			}
		}else if(questions[i].type == "FILL_IN"){
			if(specialParseStr(questions[i].correctAnswers) == specialParseStr(questions[i].userAnswers)){
				questions[i].isCorrect = true;
				score++;
			}
		}
	}

	score /= totalQuestions;
	score *= 100;

	var hdr = document.getElementById("header");
	hdr.innerHTML += "<center><h1><b>Score: "+score.toFixed(2)+"%</b></h1></center>";
}

function nextQuestion(){
	saveQuestionState();
	currentQuestion = questions[currentQuestion.number];
	displayQuestion();
}

function previousQuestion(){
	saveQuestionState();
	currentQuestion = questions[currentQuestion.number - 2];
	displayQuestion();
}

function navigateTo(i){
	saveQuestionState();
	currentQuestion = questions[i];
	displayQuestion();
}

function highlightButtons(){
	var btns = navDiv.getElementsByTagName("button");
	for(var i = 0; i < questions.length; i++){
		if(questions[i].isCorrect){
			btns[i].style="background-color:green";
		}else{
			btns[i].style="background-color:red";
		}
	}
}

function saveQuestionState(){
	if(currentQuestion.type == "MULT_ANS"){
		currentQuestion.userAnswers = [];
		var cbx = qDiv.getElementsByTagName("input");
		for(var i = 0; i < cbx.length; i++){
			if(cbx[i].checked){
				currentQuestion.userAnswers.push(i);
			}
		}
	}else if(currentQuestion.type == "SING_ANS"){
		currentQuestion.userAnswers = [];
		var cbx = qDiv.getElementsByTagName("input");
		for(var i = 0; i < cbx.length; i++){
			if(cbx[i].checked){
				currentQuestion.userAnswers = i;
			}
		}
	}else if(currentQuestion.type == "FILL_IN"){
		var tbx = qDiv.getElementsByTagName("textarea");
		currentQuestion.userAnswers = tbx[0].value;
	}
}

function numToChar(num){
	return String.fromCharCode("A".charCodeAt(0) + num);
}

function compareArray(arr1, arr2){
	if(arr1.length != arr2.length){
		return false;
	}

	for(var i = 0; i < arr1.length; i++){
		if(arr1[i] != arr2[i]){
			return false;
		}
	}

	return true;
}

</script>

</html>
